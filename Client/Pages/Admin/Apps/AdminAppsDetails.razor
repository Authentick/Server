@page "/admin/apps/details/{Id:guid}"
@attribute [Authorize]

@layout AdminShell

@using AuthServer.Shared.Admin

@inject AuthServer.Shared.Admin.Apps.AppsClient AppsClient

@if(appDetailReply != null) {
    <div>
        <h1>Configure @appDetailReply.Name</h1>
        
        <p>Your LDAP bind credentials:</p>
        <p>@appDetailReply.LdapBindCredentials</p>

        <p>Your LDAP Base DN:</p>
        <p>@appDetailReply.LdapDn</p>

    </div>
}

@code {
    [Parameter]
    public Guid Id { get; set; }

    private AppDetailReply? appDetailReply;

    protected override async Task OnInitializedAsync()
    {
        AppDetailRequest request = new AppDetailRequest
        {
            Id = Id.ToString(),
        };

        appDetailReply = await AppsClient.GetAppDetailsAsync(request);
    }
}
